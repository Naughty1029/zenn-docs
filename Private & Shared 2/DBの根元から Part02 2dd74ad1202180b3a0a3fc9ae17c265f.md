# DBの根元から Part02

## **第5章：商用DBMSの台頭（1980年代）**

### **Oracle：最初の商用RDBMS**

<aside>
😈

1977年、ラリー・エリソンという人物が、ラリー・エリソン、ボブ・マイナー、エド・オーツの3人で会社を設立しました。後の**Oracle Corporation**です。

</aside>

<aside>
😀

Oracleって今でも有名だよね。

</aside>

<aside>
😈

そう！彼らは何をしたと思います？

</aside>

<aside>
😀

えっと...データベースを作った？

</aside>

<aside>
😈

IBMより先に、世界初の**商用**関係データベース製品を発売したんです！

</aside>

### 歴史の皮肉

<aside>
😀

え？コッド博士はIBMの人じゃなかったっけ？

</aside>

<aside>
😈

そうなんです。でも、IBMには問題がありました。

- **コッド博士**：IBMの研究者だった
- **IBMの事情**：既存製品（IMS）が大ヒット中で、すぐには切り替えられなかった
- **Oracleのチャンス**：その隙に市場を取った
</aside>

<aside>
😈

IBMの研究論文を読んだエリソンたちが、「これは儲かる！」と思って商品化したんです。

</aside>

### **Oracle Database（1979年）の革新**

<aside>
😈

最初の製品は「Oracle Version 2」でした。
Version 1は存在しないんです。

https://ja.wikipedia.org/wiki/Oracle_Database

</aside>

<aside>
😀

え、なんで？

</aside>

<aside>
😈

「Version 1」だと実験的に聞こえるから、いきなり「2」から始めたんです。マーケティングですね（笑）

</aside>

- **技術的な特徴**
    1. **C言語で書かれていた**
        - 移植性が非常に高い
        - 様々なコンピュータで動作可能
    2. **マルチプラットフォーム対応**
        - DEC VAX
        - IBM メインフレーム
        - UNIX系システム
    3. **標準SQLをサポート**
        - 技術者が学びやすい
        - 他社からの移行もしやすい
- **採用企業**
    - CIA（アメリカ中央情報局）
    - 政府機関
    - 大手金融機関
- **Oracle Database の価格**
    - 数百万円〜数千万円

<aside>
😀

すごい！でも、値段高すぎ！誰が買うの！？

</aside>

<aside>
😈

でも、当時は「これでも安い」と思われてたんです。
比較してみましょう。

</aside>

- **従来のシステム構築コスト**
    1. **メインフレーム**（大型コンピュータ）：**数億円**
    2. **カスタムソフトウェア開発**：**数千万円**
    3. **保守費用**：年間**数百万円**
    4. **開発期間**：1〜2年
- **Oracle導入後**
    1. **比較的小型のコンピュータ**でOK
    2. **パッケージソフト**なので開発不要
    3. **標準SQL**なので技術者が見つかりやすい
    4. **導入期間**：数ヶ月

<aside>
😀

確かに、トータルで見たら安いかも...

</aside>

<aside>
😈

そうなんです。「時間とお金を買う」という発想ですね。

</aside>

### **1983年：IBM DB2リリース**

<aside>
😈

一方で、IBMも黙ってはいませんでした。
IBMは1983年、満を持して**DB2**（Database 2）をリリースしました。

</aside>

- **DB2の特徴**
    1. **メインフレーム用のRDBMS**
        - IBMの大型コンピュータに最適化
        - 既存のIBMユーザーが移行しやすい
    2. **IBMの信頼性とサポート**
        - 「誰もIBMを選んで首にはならない」という格言があったほど
        - 手厚いサポート体制
    3. **エンタープライズ向け機能**
        - トランザクション処理
        - 高度なセキュリティ
        - バックアップ・リカバリ機能

<aside>
😀

結局、どっちが勝ったの？

</aside>

<aside>
😈

実は、両方とも成功したんです。
市場が分かれたんですよ。

</aside>

### **1980年代のDBMS市場**

**主なプレイヤー**

| 製品 | 会社 | 強み | 主な顧客 |
| --- | --- | --- | --- |
| [Oracle](https://www.oracle.com/jp/database/technologies/oracle-database-software-downloads.html) | Oracle Corporation | 多様なプラットフォーム対応、積極的なマーケティング | 政府機関、中堅企業 |
| [DB2](https://www.ibm.com/jp-ja/products/db2) | IBM | メインフレームでの圧倒的信頼性 | 大企業、金融機関 |
| [Informix](https://ja.wikipedia.org/wiki/Informix) | Informix Corporation | UNIXシステムでの高性能 | 製造業、研究機関 |
| [Sybase](https://ja.wikipedia.org/wiki/Sybase) | Sybase Inc. | Client/Serverアーキテクチャで革新 | 金融、通信業界 |

<aside>
😈

それぞれが得意分野を持っていて、棲み分けができていました。

でも、どの製品にも共通する問題がありました。

</aside>

- **共通の課題**
    1. **非常に高価**
        - 最低でも数百万円
        - 大規模システムでは億単位
    2. **大企業向け**
        - 中小企業やベンチャーには手が届かない
        - 導入には経営判断が必要
    3. **専門の管理者（DBA）が必要**
        - Database Administratorという職種が確立
        - 専門知識と経験が必須
    4. **複雑な導入プロセス**
        - ハードウェアの選定
        - インストールと設定
        - データ移行
        - 数ヶ月〜1年かかることも

<aside>
😀

データベースは高級品だったんだね。
普通の会社やベンチャーには無理だね...

</aside>

<aside>
😈

そうです。この状況を根底から変える革命が起きるんです。

無料のデータベース、**オープンソースRDBMS**の登場です！

</aside>

---

## **第6章：インターネット革命とオープンソースRDBMS（1990年代）**

### インターネットの爆発的普及**：World Wide Web（WWW）の公開**

<aside>
😈

1990年代、世界が根底から変わりました。

ティム・バーナーズ＝リーという研究者が、CERNという研究所でWWWを発明しました。
これによって、誰でも情報を発信できるようになったんです。

</aside>

<aside>
😈

1993年には、初めての使いやすいWebブラウザであるMosaicブラウザ登場しました。これでインターネットが一般家庭に広がり始めました。

</aside>

<aside>
😈

1995年ごろからはドットコムブームという経済現象が始まりました。この時期には「ドットコム会社」と呼ばれる多くのIT関連ベンチャーが設立されました。

https://share.google/mxyQg7evG4L9H026U

- Yahoo!（1994年）
- Amazon（1995年）
- eBay（1995年）
</aside>

<aside>
😀

あ、知ってる会社ばかり！

</aside>

<aside>
😈

そう！この時代に今の巨大IT企業の多くが生まれたんです。
Web開発の需要が爆発的に増えました。

</aside>

### ベンチャー企業の悩み

<aside>
😈

でも、大きな問題がありました。

- **典型的な会話**
    - **創業者**：「Webサービス作りたい！」
    - **エンジニア**：「データベースが必要ですね」
    - **営業**：「Oracleを入れましょう！300万円です」
    - **創業者**：「...無理」
</aside>

<aside>
😀

そうだよね、ベンチャーには高すぎる...

</aside>

<aside>
😈

Webサービスには必ずデータベースが必要です。

- ユーザー情報
- 商品情報
- 注文履歴
- 掲示板の投稿

でも、既存のDBMSは高価すぎて手が出ない。

ここで救世主が現れます。

</aside>

### **MySQL の誕生（1995年）**

<aside>
😈

Michael "Monty" Wideniusらがスウェーデンの小さな会社、MySQL ABを創業。MySQLを開発しました。

</aside>

<aside>
😈

モンティは娘の名前「My」から「MySQL」と名付けたんです。

</aside>

<aside>
😀

へー、かわいい由来！
でもなにが革命的だったの？

</aside>

<aside>
😈

MySQLが何を変えたか、見ていきましょう。

</aside>

1. **無料！（オープンソース）**

<aside>
😈

GPL（General Public License）というライセンスで公開されました。
誰でも無料でダウンロードして使えるんです。

</aside>

1. **軽量で高速**

<aside>
😈

シンプルな設計で、驚くほど速かった。
小さなサーバーでも動作しました。

</aside>

1. **簡単にインストールできる**

<aside>
😈

**従来のDBMS（Oracle）であれば、分厚いマニュアルを持って、専門家が数日かけてインストールしていました**

一方で、MySQLなら

*# Linuxの場合*

apt-get install mysql-server

</aside>

### MySQLの設計思想

<aside>
😈

MySQLには明確な設計思想がありました。

「**複雑な機能より、速さとシンプルさ**」

そのため、初期のMySQLになかった機能がいくつかあります。

</aside>

<aside>
😀

え？何がなかったの？

</aside>

<aside>
😈

実は、かなり重要な機能が抜けていました。

</aside>

| 機能 | 状態 | 追加時期 |
| --- | --- | --- |
| トランザクション | ❌ なし | 2001年（InnoDB導入） |
| 外部キー制約 | ❌ なし | 2001年（InnoDB導入） |
| ストアドプロシージャ | ❌ なし | 2005年（MySQL 5.0） |
| ビュー | ❌ なし | 2005年（MySQL 5.0） |
| サブクエリ | ❌ なし | 2004年（MySQL 4.1） |

<aside>
😀

え、そんな重要な機能がなくて大丈夫だったの？

</aside>

<aside>
😈

それが、Web開発には十分だったんです！

典型的なWebアプリの処理を見てみましょう。

</aside>

- Webアプリの基本的な流れ
    1. ユーザーがフォームを送信
    2. データをMySQLに保存
    3. 結果のHTMLを表示

具体例：掲示板

```sql
// 投稿を保存
INSERT INTO posts (user, message) 
VALUES ('太郎', 'こんにちは！');

// 投稿を表示
SELECT user, message FROM posts 
ORDER BY created_at DESC;
```

<aside>
😈

シンプルな処理には、シンプルなDBで十分だったんです。

複雑なトランザクションや外部キー制約は不要でした。

</aside>

### LAMP スタックの登場

<aside>
😈

1990年代後半、Webアプリの標準構成が確立されました。

**LAMP**と呼ばれるものです。

- LAMP = Linux + Apache + MySQL + PHP/Perl/Python

重要なポイントは全部無料ということです。

</aside>

| コンポーネント | 従来 | LAMP |
| --- | --- | --- |
| OS | Windows Server: 数十万円 | Linux: **無料** |
| Webサーバー | 商用製品: 数十万円 | Apache: **無料** |
| DB | Oracle: 数百万円 | MySQL: **無料** |
| 言語 | - | PHP: **無料** |
| **合計** | **数百万円〜** | **0円** |

<aside>
😀

これは革命だ...

</aside>

<aside>
😈

でしょ？個人でもWebサービスを立ち上げられるようになったんです。
実際、多くの有名サービスが初期にLAMP（特にMySQL）を使っていました。

**初期にMySQLを使っていたサービス**

- **Facebook**（2004年〜）
- **WordPress**（2003年〜現在も）
- **Wikipedia**（2001年〜現在も）
- **YouTube**（2005年〜）
- **Twitter**（2006年〜）
</aside>

<aside>
😀

え！こんな大きなサービスも最初はMySQLだったの？

</aside>

<aside>
😈

そうなんです。無料で始められたから、アイデアをすぐに形にできた。
これがスタートアップ文化を生んだんです。

</aside>

### PostgreSQL の登場（1996年）

<aside>
😈

ほぼ同時期に、もう一つの重要なオープンソースDBMSが登場します。

**PostgreSQLの歴史**

- **1970年代**：カリフォルニア大学バークレー校で**Ingres**プロジェクト
    - Michael Stonebraker教授が主導
- **1986年**：**Postgres**プロジェクトとして再始動
    - より先進的な機能を追加
- **1996年**：SQL対応で**PostgreSQL**として公開
</aside>

<aside>
😀

名前が似てるけど、Ingres → Postgres → PostgreSQL って進化したんだ。

</aside>

<aside>
😈

その通り！「Post-Ingres（Ingresの後）」という意味です。
PostgresはMySQLと同じオープンソースRDBMSでも、全く違う思想で作られています。

</aside>

| 項目 | MySQL | PostgreSQL |
| --- | --- | --- |
| **設計思想** | スピード重視 | 厳格性・正確性重視 |
| **ターゲット** | Web向け | エンタープライズ向け |
| **特徴** | シンプルで軽快 | 機能豊富で堅牢 |
| **学習曲線** | 緩やか | やや急 |
| **初期機能** | 最小限 | 充実 |

<aside>
😀

PostgreSQLの方が厳しいんだね。

</aside>

<aside>
😈

そう。MySQLは「動くこと」を優先、PostgreSQLは「正しいこと」を優先。

これは金融システムや医療システムなど、データの正確性が命のシステムで重要です。

今でもこの2つの比較は、エンジニアの間で熱い議論になります。

</aside>

<aside>
😀

結局、どっちがいいの？

</aside>

<aside>
😈

「正解はない」んです。要件次第。

これがエンジニアリングの面白いところです。

</aside>

### オープンソースがもたらした変化

<aside>
😈

MySQLとPostgreSQLの登場で、何が変わったと思いますか？

</aside>

1. **参入障壁の撤廃**

**以前**

- データベース：数百万円
- サーバー：数十万円
- 合計：数百万円の初期投資

**オープンソース時代**

- データベース：無料
- サーバー：レンタルサーバー月数千円
- 合計：ほぼ0円で始められる

1. **イノベーションの加速**

<aside>
😈

お金がなくてもアイデアを試せるようになった。

失敗してもリスクが小さいから、チャレンジしやすくなったんです。

</aside>

1. **開発者コミュニティの形成**
- オープンソースなので誰でもコードを見られる
- バグ修正や機能追加に誰でも参加できる
- 世界中の開発者が協力

<aside>
😀

インターネット時代ならではだね。

無料のデータベースが世界を変えたんだね！

</aside>

<aside>
😈

その通り！でも、商用DBMSも進化を続けていました。

次の章では、2000年代のデータベース技術の多様化を見ていきます。

NoSQL、クラウド、そして新しい時代の幕開けです！

</aside>